; =============================================================================
; MUSIC BOT CONFIGURATION FILE
; =============================================================================
; This is the main configuration file for the Discord Music Bot.
; All settings are organized into logical sections.
; 
; INI Format Notes:
; - Lines starting with ';' are comments
; - Section headers are in [brackets]
; - Key-value pairs are separated by '='
; - Boolean values: true/false, yes/no, 1/0
; - Strings with spaces should be quoted
; =============================================================================

; =============================================================================
; SECTION 1: DISCORD BOT SETTINGS
; =============================================================================
; Core Discord bot configuration

[discord]
; Your Discord bot token from the Discord Developer Portal
; Get it at: https://discord.com/developers/applications
token = "YOUR_DISCORD_BOT_TOKEN_HERE"

; Command prefix for text commands (slash commands are always enabled)
; This is used as fallback if slash commands fail
prefix = "!"

; Default volume level (0-100)
default_volume = 50

; Maximum volume limit (0-150, recommend keeping at 100)
max_volume = 100

; Bot owner's Discord user ID (for owner-only commands)
owner_id = 0

; Test guild ID for instant command syncing (optional)
; Commands sync instantly to this server, others sync globally (1hr cache)
test_guild_id = 0

; Enable/disable default help command
enable_help_command = true

; =============================================================================
; SECTION 2: BOT INTENTS
; =============================================================================
; Discord Gateway Intents - enables specific privileged events

[intents]
; Required for reading message content (commands)
message_content = true

; Required for voice state updates (join/leave/move)
voice_states = true

; Required for guild-related events
guilds = true

; Required for guild message events
guild_messages = true

; Required for member-related events (presence, join, etc.)
members = true

; Required for tracking message reactions
message_content = true

; =============================================================================
; SECTION 3: YOUTUBE & yt-dlp SETTINGS
; =============================================================================
; Configuration for YouTube and yt-dlp audio extraction
; Note: YouTube API is optional - yt-dlp works without it

[youtube]
; YouTube Data API v3 Key (optional but recommended for search)
; Get it at: https://console.cloud.google.com/apis/credentials
api_key = ""

; Use YouTube Music API for faster searches (recommended)
; Requires: pip install ytmusicapi
use_youtube_music = true

; YouTube Music authentication (optional, for private playlists)
; Run: ytmusicapi --oauth to generate auth file
youtube_music_auth = ""

; Fallback to regular YouTube if YouTube Music fails
fallback_to_youtube = true

; =============================================================================
; SECTION 4: SPOTIFY API SETTINGS
; =============================================================================
; Spotify integration for Spotify links and playlists
; Get credentials at: https://developer.spotify.com/dashboard

[spotify]
; Enable Spotify support
enabled = true

; Spotify API Client ID
client_id = ""

; Spotify API Client Secret
client_secret = ""

; Spotify user ID (for playlist management)
user_id = ""

; Maximum tracks to load from Spotify playlists (to avoid rate limits)
max_playlist_tracks = 100

; =============================================================================
; SECTION 5: DATABASE SETTINGS
; =============================================================================
; SQLite database for persistent data (queues, settings, etc.)
; Uses SQLite by default - no external database required

[database]
; Database type: sqlite, mysql, postgresql
type = "sqlite"

; SQLite database file path (relative to bot directory)
db_file = "data/bot.db"

; For MySQL/PostgreSQL (leave empty if using SQLite)
host = "localhost"
port = 3306
database_name = "musicbot"
username = "root"
password = ""

; Connection pool settings
pool_size = 5
pool_timeout = 30

; =============================================================================
; SECTION 6: PLAYBACK SETTINGS
; =============================================================================
; Audio playback configuration

[playback]
; Audio format preference (bestaudio, best,worst)
format = "bestaudio[acodec=opus]/bestaudio/best"

; Prefer FFmpeg for audio processing
prefer_ffmpeg = true

; FFmpeg audio bitrate (in kbps)
audio_bitrate = 128

; Audio sample rate (22050, 44100, 48000)
sample_rate = 48000

; Audio channels (1=mono, 2=stereo)
channels = 2

; Enable audio volume normalization
normalize = false

; Pre-extract audio for instant playback (recommended)
pre_extract = true

; Pre-load next song in queue
preload_next = true

; =============================================================================
; SECTION 7: QUEUE MANAGEMENT
; =============================================================================
; Queue and playlist settings

[queue]
; Maximum songs per queue (per guild)
max_queue_size = 1000

; Maximum song duration in seconds (0 = unlimited)
; Example: 3600 = 1 hour
max_song_duration = 0

; Maximum songs from same URL in queue (prevent spam)
max_duplicate_urls = 3

; Allow duplicate songs in queue
allow_duplicates = true

; Enable auto-play (play related songs when queue is empty)
auto_play = false

; Number of related songs to queue in auto-play
auto_play_count = 5

; =============================================================================
; SECTION 8: yt-dlp OPTIONS
; =============================================================================
; Advanced yt-dlp configuration
; These are tuning parameters for audio extraction

[yt_dlp]
; Socket timeout in seconds
socket_timeout = 10

; Number of retries for failed downloads
retries = 3

; Number of retries for failed fragments
fragment_retries = 3

; Skip unavailable fragments
skip_unavailable_fragments = true

; Extract flat (faster but less info)
extract_flat = false

; Enable geographic bypass
geo_bypass = true

; Check SSL certificates
check_certificate = true

; User agent string
user_agent = "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"

; =============================================================================
; SECTION 9: FFMPEG OPTIONS
; =============================================================================
; FFmpeg streaming configuration

[ffmpeg]
; Reconnect to stream if disconnected
reconnect = true

; Maximum reconnect attempts
reconnect_streamed = 1

; Maximum delay between reconnects (seconds)
reconnect_delay_max = 5

; Analysis duration (0 = skip analysis for speed)
analyzeduration = 0

; Probe size (32 = minimal for speed)
probesize = 32

; Disable buffering for low latency
nobuffer = true

; Audio buffer size
buffer_size = "512k"

; =============================================================================
; SECTION 10: LOGGING CONFIGURATION
; =============================================================================
; Bot logging and debug settings

[logging]
; Enable logging to file
log_to_file = true

; Log file path
log_file = "bot.log"

; Log file encoding
log_encoding = "utf-8"

; Log file mode (a=append, w=overwrite)
log_mode = "a"

; Enable console logging
log_to_console = true

; Discord logger level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
discord_log_level = "INFO"

; Music cog logger level
music_log_level = "INFO"

; Maximum log file size in bytes (0 = unlimited)
; Example: 10485760 = 10MB
max_log_size = 0

; Number of backup log files to keep
backup_count = 3

; =============================================================================
; SECTION 11: RATE LIMITING & TIMEouts
; =============================================================================
; Various timeout and rate limit settings

[rate_limits]
; Maximum commands per minute per user (0 = unlimited)
max_commands_per_minute = 0

; Search cooldown in seconds
search_cooldown = 3

; Maximum concurrent voice connections (per bot instance)
max_voice_connections = 100

; Voice connection timeout in seconds
voice_timeout = 30

; Heartbeat timeout in seconds
heartbeat_timeout = 60

; Guild ready timeout in seconds
guild_ready_timeout = 10

; Maximum messages to cache
max_cached_messages = 1000

; =============================================================================
; SECTION 12: UI/EMBED SETTINGS
; =============================================================================
; Embed appearance and UI configuration

[ui]
; Embed color (hex format without #)
embed_color = "3498db"

; Use buttons for music controls
use_buttons = true

; Use select menus for playlists
use_select_menus = true

; Show progress bar in now-playing
show_progress_bar = true

; Show thumbnails in embeds
show_thumbnails = true

; Show requester name in embeds
show_requester = true

; Maximum track title length in embeds
max_title_length = 50

; Timeout for UI interactions (seconds)
ui_timeout = 180

; =============================================================================
; SECTION 13: CACHE SETTINGS
; =============================================================================
; Cache configuration for improved performance

[cache]
; Enable result caching
enabled = true

; Cache duration in seconds (search results)
cache_duration = 3600

; Maximum cached entries
max_cache_size = 500

; Cache file path
cache_file = "data/cache.json"

; =============================================================================
; SECTION 14: SECURITY SETTINGS
; =============================================================================
; Security and permission configuration

[security]
; Required bot permissions integer
; Calculate at: https://discordapi.com/permissions.html
; 277025508352 = Move Members, Connect, Speak, Use Voice
required_permissions = "277025508352"

; Allowed music channels (empty = all channels)
; Format: channel_id1,channel_id2,...
allowed_music_channels = ""

; Blacklisted user IDs (comma-separated)
blacklist = ""

; =============================================================================
; SECTION 15: FEATURE FLAGS
; =============================================================================
; Enable/disable specific features

[features]
; Enable lyrics command
lyrics = true

; Enable shuffle command
shuffle = true

; Enable repeat/loop commands
repeat = true

; Enable playlist commands
playlists = true

; Enable bass boost
bass_boost = true

; Enable nightcore effect
nightcore = false

; Enable slowmode in music channels
auto_slowmode = false

; Slowmode seconds when users join
slowmode_delay = 0

; =============================================================================
; SECTION 16: Lavalink SETTINGS (OPTIONAL)
; =============================================================================
; Legacy Lavalink support (NOT REQUIRED - uses yt-dlp instead)
; Only configure this if you want to use Lavalink instead of yt-dlp

[lavalink]
; Enable Lavalink (overrides yt-dlp if enabled)
enabled = false

; Lavalink server address
host = "localhost"
port = 2333

; Lavalink server password
password = "youshallnotpass"

; Lavalink identifier
identifier = "main"

; Use SSL/TLS
ssl = false

; =============================================================================
; SECTION 17: PERFORMANCE TUNING
; =============================================================================
; Performance-related settings

[performance]
; Enable debug mode (more logging, slower)
debug = false

; Thread pool size for audio extraction
thread_pool_size = 4

; Enable lazy loading
lazy_load = true

; Connection pool size
connection_pool_size = 10

; Request timeout in seconds
request_timeout = 15

; =============================================================================
; SECTION 18: AUTOMODERATION
; =============================================================================
; Auto moderation for music commands

[automod]
; Enable anti-spam for music commands
anti_spam = true

; Maximum plays per user per minute
max_plays_per_minute = 10

; Maximum queue adds per minute
max_queue_adds_per_minute = 20

; Warn users for violations
warn_on_violation = true

; =============================================================================
; SECTION 19: STATS & ANALYTICS
; =============================================================================
; Usage statistics configuration

[stats]
; Enable command usage statistics
enabled = false

; Stats file path
stats_file = "data/stats.json"

; Reset stats on bot restart
reset_on_restart = false

; =============================================================================
; SECTION 20: BACKUP & MAINTENANCE
; =============================================================================
; Backup and maintenance settings

[backup]
; Enable automatic database backups
auto_backup = true

; Backup interval in hours
backup_interval = 24

; Maximum backup files to keep
max_backups = 7

; Backup directory
backup_dir = "data/backups"

; =============================================================================
; END OF CONFIGURATION FILE
; =============================================================================
